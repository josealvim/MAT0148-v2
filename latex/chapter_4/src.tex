\chapter{Modelos a Valores Booleanos}
%    \epigraph{\justify
%            A successful attempt to express 
%            logical propositions by symbols, 
%            the laws of whose combinations 
%            should be founded upon the laws 
%            of the mental processes which 
%            they represent, would, so far, 
%            be a step towards a philosophical 
%            language.
%        }{\textit{George Boole -- The Mathematical Analysis of Logic. p.5}}    
    \cls
    \paragraph{}
        Queremos modelos diferentes de $\ZF$
        a fim de encontrar exemplos de modelos 
        com propriedades diferentes de $L$, 
        por exemplo, onde não valha o Axioma 
        da Escolha, ou a Hipótese do Contínuo.
    \paragraph{}
        Por questões cabalísticas, não podemos 
        de fato definir a verdade do $V$ de 
        maneira internalizada satisfatória
        \cite{Tarski}. E, por consequência,
        não é possível fazê-lo para $V^{(B)}$
        inteiro --- pois poderiamos trazer de 
        volta a definição para $V$. Nossa 
        abordagem é fazer a teoria de modelos 
        booleanos em submodelos base.
    \paragraph{}
        Ao longo deste capítulo, $B$ e $B'$ 
        serão álgebras Booleanas completas, 
        $B$ será munida das operações 
        $*$ para o \textit{meet}, $+$ para 
        o \textit{join}, $-$ para o 
        complemento e $\leq$ para a ordem 
        induzida. A implicação escreveremos 
        dupla $\RAR$.
    \begin{definition}{$ M^{(B)} $}
        Seja $B$ uma Álgebra Booleana Completa, 
        e seja $M\in V$ um conjunto transitivo 
        que modela $\ZF$.

        $$ \M{B}_{\alpha} = \SET{ f : \exists\beta\in M:\beta<\alpha\land\exists D\subseteq \M{B}_{\beta} : f\in D^B } $$
        $$ \M{B} = \SET{f : \exists\alpha: f\in \M{B}_{\alpha}} $$
    \end{definition}
    \paragraph{}
        Acima definimos um conjunto (pois a partir 
        de certo $\alpha$ não se adiciona mais 
        conjuntos) onde cada um de seus elementos 
        é uma função de um pedaço de um nível 
        anterior $B$-valorada.
    \paragraph{}
        A maneira de pensar sobre esta classe
        é que seus membros são representantes 
        de objetos ideais cujas propriedades 
        queremos capturar dentro da teoria de $\ZF$. 
        Cada representante decide 
        \textit{quanto} os objetos representados 
        por anteriores \textit{pertence}
        ao objeto que ele representa.
    \paragraph{}
        Trivialmente $\alpha<\beta\bim\M{B}_\alpha\subset\M{B}_\beta$
    \paragraph{}
        Já mencionamos que objetos em $\M{B}$ 
        representam objetos ideais, mas não 
        explicamos exatamente o que queremos 
        dizer com isso. É evidente que $\M{B}$
        não é transitivo, nem tem um conjunto 
        indutivo, logo não há esperança de 
        $\M{B}$ ser modelo transitivo de $\ZF$.
    \paragraph{}
        Mas, com uma relação não-\textit{standard}
        de pertinência e uma igualdade 
        adequadamente definida, é possível que 
        seja um modelo de $\ZF$. Como estamos 
        distorcendo a igualdade, os elementos de 
        $\M{B}$ não são os objetos do modelo, 
        estritamente falando, mas são coisas 
        habitando classes de equivalência que, 
        estas sim, são os verdadeiros objetos 
        do modelo.
    \paragraph{}
        Vamos, pois, definir uma ($B$) medida 
        de igualdade e de pertinência de maneira 
        recursiva: Primeiro considere a relação
    $$ \TUPLE{a}{b} \prec \TUPLE{\alpha}{\beta} \bim [a = \alpha \land b\in Dom(\beta)] \lor [a\in Dom(\alpha) \land b = \beta] $$
    \paragraph{}
        Queremos mostrar que, sobre 
        $\mathbb{M} = \M{B}\times\M{B}$, 
        esta relação é bem fundada --- 
        isto é, todo subconjunto de 
        $\mathbb{M}$ tem um elemento $\prec$-minimal 
        e $\prec$ é ``pequeno à esquerda''.
    \begin{lemma}{$\prec$ é Bem Fundada}
        Seja $B$ álgebra Booleana Completa, $M$ um 
        modelo interno transitivo de $\ZF$, então 
        $\prec$ é \textit{set-like} e minimalizável em 
        $\mathbb{M} = \M{B}\times\M{B}$.
        \begin{proof}
            \paragraph{}
                Primeiro lidemos com \textit{minimalizável},
                que significa dizer há um elemento minimal 
                em qualquer subconjunto:
            $$ \forall X \subseteq \mathbb{M}:\exists x_0 \in \mathbb{M}: \forall x\in X: \neg[x \prec x_0]$$
            \paragraph{}
                Como todo membro de $\M{B}$ surgiu neste conjunto em alguma etapa ordinal, seja $\rho_B$
                a função que associa a cada membro de $\M{B}$ o ordinal mínimo cuja etapa o contém. Dado 
                $\rho_B$ queremos extender esta função para uma útil em $\mathbb{M}$, no caso: 
                $\rho\TUPLE{a}{b}=\min\SET{\rho_B(a)}{\rho_B(b)}$.
            \paragraph{}
                Considere, pois, o conjunto de ordinais correspondente à imagem de $\mathbb{M}$ por $\rho$,
                este conjunto tem um mínimo $\gamma$ que é atingido por algum $\TUPLE{a}{b}\in\mathbb{M}$.
            \paragraph{}
                Seja, então, $\TUPLE{\alpha}{\beta}\in\mathbb{M}$
            \begin{prooftree}
                \AxiomC{$\scriptstyle[\alpha = a \land \beta \in Dom(b)]$ }
                \UnaryInfC{$\scriptstyle[\rho_B(\alpha) = \rho_B(a)] \land [\rho_B (\beta)< \rho_B(b)]$}
                \UnaryInfC{$\scriptstyle\rho \TUPLE{\alpha}{\beta} < \gamma$}
                
                \AxiomC{$\TUPLE{\alpha}{\beta} \prec \TUPLE{a}{b}$}
                \UnaryInfC{$\scriptstyle[\alpha = a \land \beta \in Dom(b)] \lor [\alpha \in Dom(a) \land \beta = b]$}
                
                \AxiomC{$\scriptstyle[\alpha \in Dom (a)\land\beta = b ]$ }
                \UnaryInfC{$\scriptstyle[\rho_B(\alpha) < \rho_B(a)] \land [\rho_B (\beta)= \rho_B(b)]$}
                \UnaryInfC{$\scriptstyle\rho \TUPLE{\alpha}{\beta} < \gamma$}

                \BinaryInfC{$\scriptstyle[\alpha = a \land \beta \in Dom(b)] \lor [\rho \TUPLE{\alpha}{\beta} < \gamma]$}
                \BinaryInfC{$\scriptstyle[\rho \TUPLE{\alpha}{\beta} < \gamma] \lor [\rho \TUPLE{\alpha}{\beta} < \gamma]$}
                \UnaryInfC{$\scriptstyle\rho \TUPLE{\alpha}{\beta} < \gamma$}
                \UnaryInfC{$\bot$}
            \end{prooftree}
            \paragraph{}
                Como se buscava, provamos que $\neg(\TUPLE{\alpha}{\beta} \prec \TUPLE{a}{b})$.\eop
            \paragraph{}
                Quanto a \textit{set-like}, que significa que a classe dos objetos menores que $x$ é um conjunto:
            $$\forall x\in \mathbb{M}:\exists X\subseteq\mathbb{M}: X = \SET{t : t \prec x}$$
            \paragraph{}
                É simples: $\mathbb{M}$ é conjunto, e se --- dado um $x$ dentro de $\mathbb{M}$ --- um $y$ é tal que 
                $y\prec x$ então, $y$ --- pela definição de $\prec$ deverá estar em $\mathbb{M}$ também.\eop
        \end{proof}
    \end{lemma}
    \paragraph{}
        Assim temos provado que esta relação auxiliar que definimos é bem fundada em qualquer $\M{B}$. Podemos 
        então, definir:
    \begin{align*}
        F(\langle{a},{b}\rangle, f) ={{\langle}}&\bigwedge_{x\in Dom(b)}[b(x)\RAR \pi_2\circ f(\TUPLE{x}{b})]*\bigwedge_{y\in Dom(a)}[a(y)\RAR \pi_3\circ f(\TUPLE{y}{a})],\\
            &\bigvee_{  x\in Dom(b)}[b(x)*    \pi_1\circ f(\TUPLE{a}{x})],\\
            &\bigvee_{  x\in Dom(a)}[a(x)*    \pi_1\circ f(\TUPLE{x}{b})]{\rangle}
    \end{align*}
    \paragraph{}
        Onde $\pi_i$ são as projeções usuais de \textit{tuplas}.
    \paragraph{}
        Pelo teorema da recursão transfinita, existe uma (única) $G$ função de domínio $\mathbb{M}=\M{B}\times\M{B}$ 
        tal que:
    $$\forall x\in\mathbb{M}:G(x) = F(x,G\restriction\SET{y: y \prec x})$$
    \begin{definition}{$B$-medidas de igualdade e pertinência}
        Para cada álgebra Booleana Completa $B$, teremos uma $G$ associada determinada pelo processo acima, definimos,
        então definimos $\Min{}$, que é a $B$ medida de pertiência em $\M{B}$ e $\Meq$, que é a medida de igualdade de 
        dois membros de $\M{B}$.
        $$ a \Meq b = \pi_1 \circ G\TUPLE{a}{b} = \left[\bigwedge_{x\in Dom(a)}a(x)\RAR (x\Min b)\right]*\left[\bigwedge_{y\in Dom(b)}b(y)\RAR (y\Min a)\right]$$
        $$ a \Min b = \pi_2 \circ G\TUPLE{a}{b} = \bigvee_{t\in Dom(b)} b(t)*(a\approx t)$$
    \end{definition}
    \paragraph{}
        De fato o que fizemos foi uma dupla-recursão transfinita: As coordenadas da tripla $G(x)$ representam 
        ``$\TUPLE{x_1 = x_2}{x_1 \in x_2}{x_1 \in x_2}$'' e precisamos destes valores para em níveis anteriores 
        para definir no atual nível.
    \paragraph{}
        Provaremos que
    $$ a \sim b \bim a\Meq b \in \mathfrak{F}$$ 
    é uma relação de equivalência para qualquer filtro $\mathfrak{F}$ em $B$. Mas antes, alguns resultados preliminares.
    \begin{proposition}{Propriedades das medidas de $\M{B}$}
        \begin{enumerate}
            \item $ x\Meq x = 1$;
            \item $ x\in Dom(y) \rar y(x) \leq x\Min y$, no sentido da ordem $\leq$ de $B$;
            \item $ x\Meq y = y \Meq x$;
            \item $[x\Meq y] *  x(u) \leq [u\Min y]$;
            \item $[x\Meq y] * [y\Meq z] \leq [x\Meq z]$;
            \item $[x\Meq y] * [x\Min z] \leq [y\Meq z]$;
            \item $[x\Meq y] * [x\Min z] \leq [y\Meq z]$;
        \end{enumerate}
        %%
        \begin{proof}

            ($ a\Meq a = 1$):
            $$a\Meq a = \left[\bigwedge_{x\in Dom(a)}a(x)\RAR (x\Min a)\right]*\left[\bigwedge_{y\in Dom(a)}a(y)\RAR (y\Min a)\right] = $$
            $$a\Meq a = \bigwedge_{x\in Dom(a)}a(x)\RAR (x\Min a)$$
            \paragraph{}
                Assumindo a hípotese indutiva, que $\forall x\in Dom(a):x\Meq x = 1$, então:
            $$ x\Min a = \bigvee_{t\in Dom(a)} a(t)*(x\Meq t) \geq a(x)*(x\Meq x) = a(x)$$
            \paragraph{}
                Substituindo acima temos:
            $$a\Meq a = \bigwedge_{x\in Dom(a)}a(x)\RAR (x\Min a) = \bigwedge_{x\in Dom(a)}a(x)\RAR a(x) = 1$$\eop
        \end{proof}
        %%
        \begin{proof}
            
            ($ y(x) \leq x\Min y$):
            \paragraph{}
                Como $x\in Dom(y)$,
            $$ x\Min y = \bigvee_{t\in Dom(y)} y(t)*(x\Meq t)\geq y(x)*(x\Meq x) = 1$$\eop
        \end{proof}
        %%
        \begin{proof}
            
            ($a\Meq b = b \Meq a$):
            \begin{align*}
                a\Meq b = \left[\bigwedge_{x\in Dom(a)}a(x)\RAR (x\Min b)\right]&*\left[\bigwedge_{y\in Dom(b)}b(y)\RAR (y\Min a)\right] =\\
                =\left[\bigwedge_{y\in Dom(b)}b(y)\RAR (y\Min a)\right]&*\left[\bigwedge_{x\in Dom(a)}a(x)\RAR (x\Min b)\right] = b\Meq a
            \end{align*}\eop
        \end{proof}
        %%
        \begin{proof}
            
            ($[x\Meq y] *  x(u) \leq [u\Min y]$):
            \begin{prooftree}
                \AxiomC{$x \Meq y = \bigwedge_{i, j}(x(i)\RAR[i\Min y])*(y(j)\RAR[j\Min x])$ }
                \UnaryInfC{$[x \Meq y]*x(u) \leq x(u) * (x(u)\RAR[u\Min y])*\bigwedge_{j}(y(j)\RAR[j\Min x])$}
                \UnaryInfC{$[x \Meq y]*x(u) \leq x(u) * (x(u)\RAR[u\Min y])$}
                \UnaryInfC{$[x \Meq y]*x(u) \leq u\Min y$}
            \end{prooftree}\eop
        \end{proof}
        %%
        \begin{proof}
            
            ($[x\Meq y] * [y\Meq z] \leq [x\Meq z]$):
            \paragraph{}
                Sejam $u,v,w\in\M{B}$. Vamos assumir, como passo indutivo, que
            $$ \forall x\in Dom(u):\forall y,z: (x\Meq y) * (y\Meq z) \leq (x\Meq z)$$
            \paragraph{}
                Restringindo $y\in Dom(v), z\in Dom(w)$ temos:
            \begin{prooftree}
                \AxiomC{$(x\Meq y) * (y\Meq z) \leq (x\Meq z)$}
                \UnaryInfC{$(x\Meq y) * (y\Meq z) * w(z) \leq (x\Meq z) * w(z)$}
                \UnaryInfC{$\bigvee_{z\in Dom(w)}(x\Meq y) * (y\Meq z) * w(z) \leq \bigvee_{z\in Dom(w)}(x\Meq z) * w(z)$}
                \UnaryInfC{$(x\Meq y) * (y\Min w) \leq (x\Min w)$}
            \end{prooftree}
            \paragraph{}
                No entanto, temos, nas condições da hipótese indutiva, o seguinte resultado auxiliar:
            \begin{prooftree}
                \AxiomC{$a = x$, Hipótese Indutiva}
                \AxiomC{$[a \Meq b]*a(d)\leq [d\Min b]$}
                \UnaryInfC{$[a \Meq b]*[c\Meq d]*a(d)\leq[d\Min b]*[c\Meq d]$}
                \UnaryInfC{$[a \Meq b]*[c\Meq d]*a(d)\leq\bigvee_{z} w(z)*[d \Meq z]*[c\Meq d]$}
                \BinaryInfC{$[a \Meq b]*[c\Meq d]*a(d)\leq\bigvee_{z} w(z)*[c\Meq z]$}
                \UnaryInfC{$[a \Meq b]*[c\Meq d]*a(d)\leq[c\Min b]$}
                \UnaryInfC{$[x \Meq y]*[u\Meq v]*x(u)\leq[v\Min y]$}
            \end{prooftree}
            \paragraph{}
                Tomando o supremo sobre $u$ no domínio de $x$, temos:
            $$[x \Meq y]*[v\Min x]\leq[v\Min y]$$
            \paragraph{}
                Temos também que
            $$[x \Meq y] * x(u) \leq [u\Min y]$$
            \begin{prooftree}
                \AxiomC{$[x \Meq y] * x(u) \leq [u\Min y]$}
                \UnaryInfC{$[x \Meq y]*[y \Meq z] * x(u) \leq [u\Min y] * [y \Meq z]$}
                \UnaryInfC{$[x \Meq y]*[y \Meq z] * x(u) \leq [u\Min z] $}
                \UnaryInfC{$[x \Meq y]*[y \Meq z] \leq x(u)\RAR[u\Min z] $}
                \UnaryInfC{$[x \Meq y]*[y \Meq z] \leq\bigwedge_u x(u)\RAR[u\Min z] $}
            \end{prooftree}

            \paragraph{}
                Graças à hipótese indutiva, temos:
            $$[x \Meq y]*[y \Meq z] \leq\bigwedge_v z(v)\RAR[v\Min x] $$
            \paragraph{}
                E, logo, 
            $$[x \Meq y]*[y \Meq z]\leq [x \Meq z]$$\eop
        \end{proof}
    \end{proposition}